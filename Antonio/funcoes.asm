.data
.text
.globl copiaCenario
.globl movOrbe

#-------------------FUNCOES-----------------------------------------------------------------------

# REGS COM CORES -> 9, 10, 11, 12, 13, 14 (COPIA DO CENARIO FEITA, PODE REAPROVEITAR DO 9 AO 12)
# REG DELAY -> 15
# REGS MOV ORBE -> 16 E 17
# REGS RECUPERA CENARIO -> 18 E 19

delay:
	addi $15, $0, 20000
forDelay:
	beq $0, $15, fimDelay
	nop
	nop
	nop
	sub $15, $15, 1
	j forDelay
fimDelay:
	jr $31

#--------------------------------------------------------------------------------

copiaCenario:
	lui $8, 0x1001
	addi $13, $0, 8192 # i
forCopia:
	beq $0, $13, fimCopia
	
	lw $14, 0($8)
	sw $14, 32768($8)
	addi $8, $8, 4
	
	sub $13, $13, 1
	j forCopia
fimCopia:
	jr $31
	
#--------------------------------------------------------------------------------
	
			
orbe:
	addi $13, $0, 0x00439d # laterais do orbe
	addi $14, $0, 0x2e24bd # cruz do orbe
	
#----------cria o orbe no canto superior esquerdo quando $8 = 0x1001--------------

	sw $13, 8($8)
	sw $13, 12($8)
	sw $13, 16($8)
	sw $13, 516($8)
	sw $13, 520($8)
	sw $14, 524($8)
	sw $13, 528($8)
	sw $13, 532($8)
	sw $13, 1028($8)
	sw $14, 1032($8)
	sw $14, 1036($8)
	sw $14, 1040($8)
	sw $13, 1044($8)
	sw $13, 1540($8)
	sw $13, 1544($8)
	sw $14, 1548($8)
	sw $13, 1552($8)
	sw $13, 1556($8)
	sw $13, 2056($8)
	sw $13, 2060($8)
	sw $13, 2064($8)
				
	jr $31
	
#--------------------------------------------------------------------------------		
	
				
										
movOrbe:
	lui $8, 0x1001 
	addi $16, $0, 50 # i
	add $17, $0, $31
forMov:
	beq $0, $16, fimMov
	
	jal orbe
	jal delay
	jal recuperaCenario
	addi $8, $8, 512
	
	sub $16, $16, 1
	j forMov
fimMov:
	j movOrbe
	add $31, $0, $17
	jr $31 


#--------------------------------------------------------------------------------

recuperaCenario:
	addi $18, $8, 8
	lw $19, 32768($18)
	sw $19, 0($18)

	addi $18, $8, 12
	lw $19, 32768($18)
	sw $19, 0($18)

	addi $18, $8, 16
	lw $19, 32768($18)
	sw $19, 0($18)

	addi $18, $8, 516
	lw $19, 32768($18)
	sw $19, 0($18)

	addi $18, $8, 520
	lw $19, 32768($18)
	sw $19, 0($18)

	addi $18, $8, 524
	lw $19, 32768($18)
	sw $19, 0($18)

	addi $18, $8, 528
	lw $19, 32768($18)
	sw $19, 0($18)

	addi $18, $8, 532
	lw $19, 32768($18)
	sw $19, 0($18)

	addi $18, $8, 1028
	lw $19, 32768($18)
	sw $19, 0($18)

	addi $18, $8, 1032
	lw $19, 32768($18)
	sw $19, 0($18)

	addi $18, $8, 1036
	lw $19, 32768($18)
	sw $19, 0($18)

	addi $18, $8, 1040
	lw $19, 32768($18)
	sw $19, 0($18)

	addi $18, $8, 1044
	lw $19, 32768($18)
	sw $19, 0($18)

	addi $18, $8, 1540
	lw $19, 32768($18)
	sw $19, 0($18)

	addi $18, $8, 1544
	lw $19, 32768($18)
	sw $19, 0($18)

	addi $18, $8, 1548
	lw $19, 32768($18)
	sw $19, 0($18)

	addi $18, $8, 1552
	lw $19, 32768($18)
	sw $19, 0($18)

	addi $18, $8, 1556
	lw $19, 32768($18)
	sw $19, 0($18)

	addi $18, $8, 2056
	lw $19, 32768($18)
	sw $19, 0($18)

	addi $18, $8, 2060
	lw $19, 32768($18)
	sw $19, 0($18)

	addi $18, $8, 2064
	lw $19, 32768($18)
	sw $19, 0($18)
	
	jr $31
